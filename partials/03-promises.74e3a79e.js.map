{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAmBC,SAASC,cAAc,SAC1CC,EAAcH,EAAiBI,SAGrC,SAASC,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,WACLH,EACFF,EAAQ,uBAAsCM,OAAfT,EAAS,QAAYS,OAANR,EAAM,OAEpDG,EAAO,sBAAqCK,OAAfT,EAAS,QAAYS,OAANR,EAAM,MAEtD,GAAGA,EACL,GACF,CAiBA,SAASS,EAAUP,GACjBX,EAAAmB,OAAOC,QAAQT,EACjB,CAEA,SAASU,EAAST,GAChBZ,EAAAmB,OAAOG,QAAQV,EACjB,CApCAV,EAAiBqB,iBAAiB,UAelC,SAAsBC,GACpBA,EAAIC,iBAIJ,IAHA,IAAMhB,EAAQiB,OAAOrB,EAAY,MAASsB,OACpCC,EAAOF,OAAOrB,EAAY,KAAQsB,OAClCE,EAASH,OAAOrB,EAAY,OAAUsB,OACnCG,EAAI,EAAGA,GAAKD,EAAQC,IAC3B,GAAW,IAANA,EACHvB,EAAcuB,EAAGrB,GAAOsB,KAAKb,GAAWc,MAAMX,OACzC,CAELd,EAAcuB,EADGrB,EAAQmB,GAAOE,EAAE,IACLC,KAAKb,GAAWc,MAAMX,EACrD,CAEJ,G","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst inputPromiseForm = document.querySelector('.form');\nconst formElement = inputPromiseForm.elements;\ninputPromiseForm.addEventListener('submit', onFormSubmit);\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      } else {\n        reject(`❌ Rejected promise ${position} in ${delay}ms`);\n      }\n    }, delay);\n  });\n}\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n  const delay = Number(formElement['delay'].value);\n  const step = Number(formElement['step'].value);\n  const amount = Number(formElement['amount'].value);\n  for (let i = 1; i <= amount; i++) {\n    if ((i === 1)) {\n      createPromise(i, delay).then(onResolve).catch(onReject);\n    } else {\n      let totalDelay = delay + step *(i-1);\n      createPromise(i, totalDelay).then(onResolve).catch(onReject);\n    }\n  }\n}\n\nfunction onResolve(resolve) {\n  Notify.success(resolve);\n}\n\nfunction onReject(reject) {\n  Notify.failure(reject);\n}\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$inputPromiseForm","document","querySelector","$ce04d3a99e08e73b$var$formElement","elements","$ce04d3a99e08e73b$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","concat","$ce04d3a99e08e73b$var$onResolve","Notify","success","$ce04d3a99e08e73b$var$onReject","failure","addEventListener","evt","preventDefault","Number","value","step","amount","i","then","catch"],"version":3,"file":"03-promises.74e3a79e.js.map"}